#!/usr/bin/env bash
# ---------------------------------------------------------------------------
# NAME:
#   .envrc
#     File that trigger 'direnv' when entering a folder
#
# DESCRIPTION:
#   THIS SCRIPT CAN ONLY BE USED WITH 'direnv' PROGRAM
#
#   [Direnv](https://direnv.net/) is a tool allowing to automatically call a
#   specific script (.envrc) when entering or leaving a directory.
#   In short, once configured, you will have no command to type, after going
#   to your working directory.
#
#   If you are using direnv, the file .envrc.template at the root of the repo
#   provide you a template to automatically call this script.
#   To use it, you can copy it or create a symlinnk to it:
#
#   ```bash
#   # Assuming you are at the root of the repo
#   # Copy the template file
#   cp .envrc.template .envrc
#   # Or create a symlink to it
#   ln .envrc.template .envrc

#   # Review its content with your favorite editor (vim here as example)
#   vim .envrc
#
#   # If you understand and agree to what is scripted in .envrc, allow it
#   #for direnv
#   direnv allow
#   ```
#
#   And that is all, each time you will enter the directory where file
#   .envrc is, this script will automatically be loaded when entering it and
#   automatically unloaded when leaving it.


# SHELLCHECK
# ---------------------------------------------------------------------------
# Globally disable some shellcheck errors, warnings or remarks.
# shellcheck disable=SC1090
#   - SC1090: Can't follow non-constant source. Use a directive to specify location.

# METHODS
# ---------------------------------------------------------------------------
main()
{
  SHELL=bash
  . "${PWD}/.direnv/activate_direnv"
  unset PS1
}

main

# ------------------------------------------------------------------------------
# VIM MODELINE
# vim: ft=bash: foldmethod=indent
# ------------------------------------------------------------------------------
